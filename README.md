# AI Safety Incident Log API

## Description

A RESTful API for logging and managing AI safety incidents, built with Node.js, Express, and MongoDB. This API allows users to log incidents related to AI safety, retrieve all incidents, fetch a specific incident by ID, and delete incidents from the database.

## Technologies Used

- **Node.js**: JavaScript runtime to build the backend.
- **Express**: Web framework for building RESTful APIs.
- **MongoDB**: NoSQL database for storing AI safety incidents.
- **Mongoose**: ODM library for MongoDB and Node.js.

## Setup Instructions

Follow the steps below to set up and run the project locally.

### Prerequisites

1. **Node.js**
2. **MongoDB**

### 1. Clone the Repository

```bash
git clone https://github.com/your-username/ai-safety-incident-log-api.git
cd ai-safety-incident-log-api
```

### 2. Install Dependencies

```bash
npm install
```

### 3. Create a .env File
Create a .env file in the root of the project and add your MongoDB URI like this:

```bash
MONGO_URI=<your_mongo_database_connection_string>
```

### 4. Run the Application
```bash
npm start
```

### 5. Seed Data (Optional)
To populate the database with some sample incidents, run the seed script:

```bash
npm run seed
```
This will insert 3 sample incidents into your database.

## API Endpoints

### GET /api/incidents
Retreive all incidents stored in database

**Response Example**:
```json
[
  {
    "id": 1,
    "title": "Autonomus car failed to detect person.",
    "description": "An autonomous vehicle's vision model failed to detect a person crossing the road in low light conditions.",
    "severity": "High",
    "reported_at": "2025-04-02T18:00:00Z"
  },
  {
    "id": 2,
    "title": "Fake news generated by language model",
    "description": "A large language model was used to generate realistic fake news at moderate scale.",
    "severity": "Medium",
    "reported_at": "2025-04-02T18:00:00Z"
  }
]
```

**Testing with curl command**:
```bash
curl -X GET http://localhost:5000/api/incidents
```

**Testing with Postman**:
1. Open Postman.
2. Set the request type to GET.
3. Enter the URL http://localhost:5000/api/incidents.
4. Click Send

### POST /api/incidents
Log a new incident to the database. The title, description, and severity fields are required.

**Request Body**:
```json
{
  "title": "New Incident Title",
  "description": "Detailed description here.",
  "severity": "Medium"
}
```

**Response Example**:
```json
{
  "id": 3,
  "title": "New Incident Title",
  "description": "Detailed description here.",
  "severity": "Medium",
  "reported_at": "2025-04-02T18:00:00Z"
}
```

**Testing with curl command**:
```bash
curl -X POST http://localhost:5000/api/incidents \
-H "Content-Type: application/json" \
-d '{"title": "New Incident Title", "description": "Detailed description here.", "severity": "Medium"}'
```

**Testing with Postman**:
1. Open Postman.
2. Set the request type to POST.
3. Enter the URL http://localhost:5000/api/incidents.
4. Under the Body tab, select raw and choose JSON.
5. Paste the JSON payload into the body.
6. Click Send

### GET /api/incidents/:id
Retreive a specific incident by its ID.

**Response Example**:
```json
{
  "id": 1,
  "title": "Autonomus car failed to detect person.",
  "description": "An autonomous vehicle's vision model failed to detect a person crossing the road in low light conditions.",
  "severity": "High",
  "reported_at": "2025-04-02T18:00:00Z"
}
```

**Testing with curl command**:
```bash
curl -X GET http://localhost:5000/api/incidents/1
```

**Testing with Postman**:
1. Open Postman.
2. Set the request type to GET.
3. Enter the URL http://localhost:5000/api/incidents/id (replace id with the desired ID)
4. Click Send

### DELETE /api/incidents/:id
Delete the incident with the specified ID from the database.

**Response Example**:
```json
{
  "message": "Incident deleted successfully."
}
```

**Testing with curl command**:
```bash
curl -X DELETE http://localhost:5000/api/incidents/1
```

**Testing with Postman**:
1. Open Postman.
2. Set the request type to DELETE.
3. Enter the URL http://localhost:5000/api/incidents/id (replace id with the desired ID)
4. Click Send
